<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>三维GIS开发工程师 | kite-notes</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/kite-notes/icon/nest.png">
    <meta name="description" content="some notes about development.">
    <meta name="keywords" content="笔记">
    
    <link rel="preload" href="/kite-notes/assets/css/0.styles.f5731900.css" as="style"><link rel="preload" href="/kite-notes/assets/js/app.5dc82d96.js" as="script"><link rel="preload" href="/kite-notes/assets/js/2.6a409917.js" as="script"><link rel="preload" href="/kite-notes/assets/js/24.e2b2b935.js" as="script"><link rel="prefetch" href="/kite-notes/assets/js/10.f2ba713c.js"><link rel="prefetch" href="/kite-notes/assets/js/11.16dd54f6.js"><link rel="prefetch" href="/kite-notes/assets/js/12.623ca261.js"><link rel="prefetch" href="/kite-notes/assets/js/13.11866706.js"><link rel="prefetch" href="/kite-notes/assets/js/14.7d50c443.js"><link rel="prefetch" href="/kite-notes/assets/js/15.8e0fe604.js"><link rel="prefetch" href="/kite-notes/assets/js/16.d289b3d6.js"><link rel="prefetch" href="/kite-notes/assets/js/17.f5e9846d.js"><link rel="prefetch" href="/kite-notes/assets/js/18.52da8f0c.js"><link rel="prefetch" href="/kite-notes/assets/js/19.e00caebc.js"><link rel="prefetch" href="/kite-notes/assets/js/20.01799517.js"><link rel="prefetch" href="/kite-notes/assets/js/21.0bf7f712.js"><link rel="prefetch" href="/kite-notes/assets/js/22.17163a68.js"><link rel="prefetch" href="/kite-notes/assets/js/23.c107cf2f.js"><link rel="prefetch" href="/kite-notes/assets/js/25.84ba4df2.js"><link rel="prefetch" href="/kite-notes/assets/js/26.75c92247.js"><link rel="prefetch" href="/kite-notes/assets/js/27.efd9ac88.js"><link rel="prefetch" href="/kite-notes/assets/js/28.4eddef6f.js"><link rel="prefetch" href="/kite-notes/assets/js/29.8bd3d904.js"><link rel="prefetch" href="/kite-notes/assets/js/3.bf545f87.js"><link rel="prefetch" href="/kite-notes/assets/js/30.3cb9f33b.js"><link rel="prefetch" href="/kite-notes/assets/js/31.a66e4816.js"><link rel="prefetch" href="/kite-notes/assets/js/32.ffae9dd7.js"><link rel="prefetch" href="/kite-notes/assets/js/33.13496dfb.js"><link rel="prefetch" href="/kite-notes/assets/js/34.1d289e84.js"><link rel="prefetch" href="/kite-notes/assets/js/35.39ff3110.js"><link rel="prefetch" href="/kite-notes/assets/js/36.bd1d78cf.js"><link rel="prefetch" href="/kite-notes/assets/js/37.ddc7f7a8.js"><link rel="prefetch" href="/kite-notes/assets/js/4.4cddb015.js"><link rel="prefetch" href="/kite-notes/assets/js/5.d129e6b5.js"><link rel="prefetch" href="/kite-notes/assets/js/6.c851d9cf.js"><link rel="prefetch" href="/kite-notes/assets/js/7.6e252507.js"><link rel="prefetch" href="/kite-notes/assets/js/8.24cd82e5.js"><link rel="prefetch" href="/kite-notes/assets/js/9.29ee41e8.js">
    <link rel="stylesheet" href="/kite-notes/assets/css/0.styles.f5731900.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kite-notes/" class="home-link router-link-active"><img src="/kite-notes/icon/nest.png" alt="kite-notes" class="logo"> <span class="site-name can-hide">kite-notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/XiaofengZeng/kite-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/XiaofengZeng/kite-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>环境安装部署</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kite-notes/env_deploy/soft_gis_geoscene.html" class="sidebar-link">「软件-GIS」GeoScene</a></li><li><a href="/kite-notes/env_deploy/soft_db_kingbase.html" class="sidebar-link">「软件-DB」Kingbase</a></li><li><a href="/kite-notes/env_deploy/tool_build_jenkins.html" class="sidebar-link">「工具-构建」Jenkins</a></li><li><a href="/kite-notes/env_deploy/tool_virtualize_docker.html" class="sidebar-link">「工具-虚拟化」Docker</a></li><li><a href="/kite-notes/env_deploy/tool_cvs_git.html" class="sidebar-link">「工具-代码控制」Git</a></li><li><a href="/kite-notes/env_deploy/tool_hub_gitlab.html" class="sidebar-link">「工具-代码托管」GitLab</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>「开发」前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kite-notes/dev_frontend/tool_pnpm.html" class="sidebar-link">「工具-依赖管理」pnpm</a></li><li><a href="/kite-notes/dev_frontend/js_es6.html" class="sidebar-link">「JavaScript」ES6</a></li><li><a href="/kite-notes/dev_frontend/js_utils.html" class="sidebar-link">「JavaScript」常用操作</a></li><li><a href="/kite-notes/dev_frontend/js_throttle_debounce.html" class="sidebar-link">「JavaScript」节流&amp;防抖</a></li><li><a href="/kite-notes/dev_frontend/js_polling.html" class="sidebar-link">「JavaScript」轮询</a></li><li><a href="/kite-notes/dev_frontend/js_canvas.html" class="sidebar-link">「JavaScript」Canvas画布</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>「开发」GIS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kite-notes/dev_gis/tool_mapshaper.html" class="sidebar-link">「小工具」mapshaper</a></li><li><a href="/kite-notes/dev_gis/algo_simplify.html" class="sidebar-link">「算法」抽稀（概化）</a></li><li><a href="/kite-notes/dev_gis/esri_arcgis_server.html" class="sidebar-link">「ESRI」ArcGIS Server</a></li><li><a href="/kite-notes/dev_gis/special_3d_gis.html" aria-current="page" class="active sidebar-link">「方向」三维GIS开发工程师</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#openlayers如何加载arcgis地图服务" class="sidebar-link">OpenLayers如何加载ArcGIS地图服务</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#openlayers常用坐标系是什么-是否支持坐标系转换" class="sidebar-link">OpenLayers常用坐标系是什么？是否支持坐标系转换？</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium如何加载arcgis地图服务" class="sidebar-link">Cesium如何加载ArcGIS地图服务</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium计算两点距离" class="sidebar-link">Cesium计算两点距离</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#直线距离" class="sidebar-link">直线距离</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#垂直距离-两点之间的高程差" class="sidebar-link">垂直距离（两点之间的高程差）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#水平距离-两点之间的的水平距离差" class="sidebar-link">水平距离（两点之间的的水平距离差）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#测地线-椭球体上的距离" class="sidebar-link">测地线（椭球体上的距离）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#地形贴地距离-与地形有关" class="sidebar-link">地形贴地距离（与地形有关）</a></li></ul></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium与openlayer计算两点距离的区别-结果是否一致" class="sidebar-link">Cesium与OpenLayer计算两点距离的区别（结果是否一致）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#如何理解cesium中的position属性-如何实现漫游" class="sidebar-link">如何理解Cesium中的position属性？如何实现漫游？</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium常用坐标系-类型" class="sidebar-link">Cesium常用坐标系（类型）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium怎么绘制点-entity" class="sidebar-link">Cesium怎么绘制点（Entity）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium怎么加载一个模型-primitive" class="sidebar-link">Cesium怎么加载一个模型（Primitive）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium的camera-俯仰角" class="sidebar-link">Cesium的Camera（俯仰角）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium和three的坐标轴区别" class="sidebar-link">Cesium和Three的坐标轴区别</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium和three的camera区别-朝向" class="sidebar-link">Cesium和Three的Camera区别（朝向）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#webgl的渲染逻辑-顺序" class="sidebar-link">WebGL的渲染逻辑（顺序）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#cesium如何加载倾斜摄影数据-gltf-glb" class="sidebar-link">Cesium如何加载倾斜摄影数据（GLTF GLB）</a></li><li class="sidebar-sub-header"><a href="/kite-notes/dev_gis/special_3d_gis.html#对arcgis三维模块的理解" class="sidebar-link">对ArcGIS三维模块的理解</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>地理信息科学</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kite-notes/gis/data_poi_aoi_loi.html" class="sidebar-link">「数据」POI/AOI/LOI</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>「系统」Linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kite-notes/os_linux/cmd.html" class="sidebar-link">「Linux」常用指令</a></li><li><a href="/kite-notes/os_linux/sh.html" class="sidebar-link">「Linux」常用脚本</a></li><li><a href="/kite-notes/os_linux/operation.html" class="sidebar-link">「Linux」常用操作</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>「系统」Windows</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kite-notes/os_windows/cmd.html" class="sidebar-link">「Windows」常用指令</a></li><li><a href="/kite-notes/os_windows/bat.html" class="sidebar-link">「Windows」常用脚本</a></li><li><a href="/kite-notes/os_windows/operation.html" class="sidebar-link">「Windows」常用操作</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>「个人」总结与反思</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kite-notes/myself/summary_2022.html" class="sidebar-link">「年终总结」2022</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="三维gis开发工程师"><a href="#三维gis开发工程师" class="header-anchor">#</a> 三维GIS开发工程师</h1> <h2 id="openlayers如何加载arcgis地图服务"><a href="#openlayers如何加载arcgis地图服务" class="header-anchor">#</a> OpenLayers如何加载ArcGIS地图服务</h2> <p>WebGIS中，客户端展示地图专题的主要方式是<strong>动态展示地图</strong>（根据范围等属性生成对应的地图图片）和<strong>瓦片影像</strong>（根据切片规则生成的瓦片数据）</p> <p><code>OpenLayers</code>根据以上两种方式提供了两种数据源<a href="https://openlayers.org/en/latest/apidoc/module-ol_source_ImageArcGISRest-ImageArcGISRest.html" target="_blank" rel="noopener noreferrer"><code>ol/source/TileArcGISRest</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://openlayers.org/en/latest/apidoc/module-ol_source_Image-ImageSource.html" target="_blank" rel="noopener noreferrer"><code>ol/source/ImageArcGISRest</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。除了基础的属性如<code>url</code>、<code>projection</code>，还需要重点关注其加载函数<code>tileLoadFunction</code>/<code>imageLoadFunction</code>，其能过够定制化一些业务处理逻辑，也能够控制地图请求的状态，如<code>ol/TileState</code></p> <p>至于如何加载ArcGIS地图服务，只需要根据地图服务的类型，选择<code>OpenLayers</code>合适的数据源类（<code>source</code>），使用对应的图层类（<code>layer</code>）对其包裹，最终便可在地图（<code>map</code>）和视图（<code>view</code>）中显示。</p> <h2 id="openlayers常用坐标系是什么-是否支持坐标系转换"><a href="#openlayers常用坐标系是什么-是否支持坐标系转换" class="header-anchor">#</a> OpenLayers常用坐标系是什么？是否支持坐标系转换？</h2> <p>一般来说，互联网中地图通用的地理坐标系统是WGS84坐标系（<code>ESPG:3857</code>和<code>ESPG:4326</code>）。因此<code>OpenLayers</code>也将该两个坐标系作为默认坐标系，但是<code>OpenLayers</code>提供了额外的坐标系定义类<a href="https://openlayers.org/en/latest/apidoc/module-ol_proj_Projection-Projection.html" target="_blank" rel="noopener noreferrer"><code>ol/proj/Projection</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。定义好后则可以支持已有坐标系的互转</p> <h2 id="cesium如何加载arcgis地图服务"><a href="#cesium如何加载arcgis地图服务" class="header-anchor">#</a> Cesium如何加载ArcGIS地图服务</h2> <p>和<code>OpenLayers</code>的图层加载类似，需要一个图层实例（<code>ImageryProvider</code>）及其内部的数据源（<code>Cesium.***ImageryProvider</code>）</p> <p>对于ArcGIS地图服务来说，主要是：</p> <ol><li>通用<code>WebMapServiceImageryProvider</code>（加载WMS服务，除ArcGIS之外也支持其他厂商的地图服务加载）</li> <li>通用<code>WebMapTileServiceImageryProvider</code>（加载WMTS服务，支持KVP和RESTful格式）</li> <li>Cesium提供的ArcGIS用数据源类<code>ArcGisMapServerImageryProvider</code>（加载WMTS服务）</li> <li>和<code>ArcGISTiledElevationTerrainProvider</code>（加载地形服务）</li></ol> <p>最终，对于一般的地图服务（如WMS服务、WMTS服务），可以通过<code>ImageryLayerCollection</code>收集所有<code>***ImageryProvider</code>，并设置到<code>Viewer</code>的<code>imageryLayers</code>属性中（其实也是<code>Viewer</code>的<code>scene</code>属性的<code>global</code>属性的<code>imageryLayers</code>属性）。对于地形服务，则通过将<code>ArcGISTiledElevationTerrainProvider</code>设置到<code>Viewer</code>的<code>terrainProvider</code>属性中即可</p> <h2 id="cesium计算两点距离"><a href="#cesium计算两点距离" class="header-anchor">#</a> Cesium计算两点距离</h2> <h3 id="直线距离"><a href="#直线距离" class="header-anchor">#</a> 直线距离</h3> <p><strong>核心思想：两点坐标点向量做差求模长。</strong></p> <p>平面二维使用<code>Cartesian2</code>，空间三维使用<code>Cartesian3</code>，他们都有<code>distance()</code>方法能够计算两点之间的距离。
但是他们两个类也都提供了<code>distanceSquared()</code>方法，比起<code>distance()</code>更加的高效（原因是关于<strong>资源开销问题</strong>：CPU擅长处理浮点数，但不适合平方根计算，因此单纯计算距离的时候会有更大的资源消耗，如果不需要精确的距离计算，使用距离的平方根也能达到相同的效果并且更加的高效）</p> <h3 id="垂直距离-两点之间的高程差"><a href="#垂直距离-两点之间的高程差" class="header-anchor">#</a> 垂直距离（两点之间的高程差）</h3> <p><strong>核心思想：两个坐标点之间的高程之差。</strong></p> <p>如果没有高程未知，则通过计算出其高程，再进行求差。具体实现这是通过<code>Cesium.sampleTerrainMostDetailed(terrainProvider, positions)</code>方法得到带高程数据的坐标点</p> <h3 id="水平距离-两点之间的的水平距离差"><a href="#水平距离-两点之间的的水平距离差" class="header-anchor">#</a> 水平距离（两点之间的的水平距离差）</h3> <p><strong>核心思想：相同高程的两点计算直线距离。</strong></p> <p>使两点的高程相同，再计算两点<strong>直线距离</strong><code>distance()/distanceSquared()</code>即可</p> <h3 id="测地线-椭球体上的距离"><a href="#测地线-椭球体上的距离" class="header-anchor">#</a> 测地线（椭球体上的距离）</h3> <p><strong>核心思想：按照椭球体计算曲线距离。</strong></p> <p><code>Cesium</code>中存在一个测地线类<code>EllipsoidGeodesic</code>，实例化并通过<code>setEndPoints</code>设置起点和终点，通过<code>surfaceDistance</code>便可以获取到两点之间的地面距离</p> <h3 id="地形贴地距离-与地形有关"><a href="#地形贴地距离-与地形有关" class="header-anchor">#</a> 地形贴地距离（与地形有关）</h3> <p><strong>核心思想：根据两点间的地形插值点，累加相邻两点之间的直线距离。</strong></p> <p>需要考虑两点之间的距离，如果大于过长（&gt;=1km），适当降低插值精度；超过一定距离（&gt;=100km）后，考虑使用<strong>测地线</strong>的方式进行计算两点距离</p> <ul><li>参考文档：<a href="https://www.jianshu.com/p/a8d4123c03ef" target="_blank" rel="noopener noreferrer">Cesium测量距离<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="cesium与openlayer计算两点距离的区别-结果是否一致"><a href="#cesium与openlayer计算两点距离的区别-结果是否一致" class="header-anchor">#</a> Cesium与OpenLayer计算两点距离的区别（结果是否一致）</h2> <p>不完全一致。</p> <p><code>OpenLayers</code>提供了两种计算长度的方式：</p> <ol><li>基于投影平面-&gt;<code>ol/geom/flat/length.lineStringLength</code>，是通过平面的方式计算（两点距离公式）</li> <li>基于椭球曲面-&gt;<code>ol/sphere.getDistance</code>/<code>ol/sphere.getLength</code>，通过两点/多点的地理坐标计算曲面距离</li></ol> <p>因此，在相同的椭球体下，同一个坐标点，使用相同的计算方式（基于投影平面/椭球曲面），两个框架计算两点距离是可以相等或近似相等；</p> <h2 id="如何理解cesium中的position属性-如何实现漫游"><a href="#如何理解cesium中的position属性-如何实现漫游" class="header-anchor">#</a> 如何理解Cesium中的position属性？如何实现漫游？</h2> <p>漫游，即在连续的时间段内，对指定的实体等物体进进行位置变换。</p> <p><code>position</code>基本是<code>Entity</code>/<code>Primitive</code>模块中的属性</p> <p>参考文档： <a href="https://zhuanlan.zhihu.com/p/461478006" target="_blank" rel="noopener noreferrer">Property机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="cesium常用坐标系-类型"><a href="#cesium常用坐标系-类型" class="header-anchor">#</a> Cesium常用坐标系（类型）</h2> <p><code>Cesium</code>中，常用的坐标主要有：</p> <ul><li><p><strong>屏幕坐标</strong></p> <p>即屏幕的像素坐标，单位是像素，通过鼠标即可获得，或者可通过<code>Cartesian2(x, y)</code>实例化</p></li> <li><p><strong>笛卡尔空间直角坐标系（世界坐标系）</strong></p> <p>又称为世界坐标系，可通过<code>Cartesian3(x, y, z)</code>实例化获取。主要用来做<strong>空间位置变化（平移、旋转、缩放等）</strong>，坐标原点在椭球体中心</p></li> <li><p><strong>地理坐标系（弧度）</strong></p> <p><code>Cesium</code>中的地理坐标单位默认是弧度制，使用<code>Gartographic(longtitude, latitude, height)</code>实例化，<strong>当弧长与半径相等，则所形成的夹角便是1弧度</strong></p> <p>弧度与角度的关系：</p> <ul><li><code>弧度=π/180×角度</code></li> <li><code>角度=180/π×弧度</code></li></ul></li> <li><p><strong>经纬度坐标</strong></p> <p>即测绘中的地理经纬度坐标系，默认是WGS84坐标，坐标原点在椭球质心。</p> <p>但是，<code>Cesium</code>没有具体的经纬度类，需要通过弧度进行转换：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 经纬度转弧度 </span>
Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span>degrees<span class="token punctuation">)</span> 
<span class="token comment">// 弧度转经纬度</span>
Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>radians<span class="token punctuation">)</span> 
</code></pre></div></li></ul> <p><code>TODO:各坐标系的转换</code></p> <p>参考文档： <a href="https://zhuanlan.zhihu.com/p/334540571" target="_blank" rel="noopener noreferrer">Cesium坐标系及坐标变换<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="cesium怎么绘制点-entity"><a href="#cesium怎么绘制点-entity" class="header-anchor">#</a> Cesium怎么绘制点（Entity）</h2> <h2 id="cesium怎么加载一个模型-primitive"><a href="#cesium怎么加载一个模型-primitive" class="header-anchor">#</a> Cesium怎么加载一个模型（Primitive）</h2> <h2 id="cesium的camera-俯仰角"><a href="#cesium的camera-俯仰角" class="header-anchor">#</a> Cesium的Camera（俯仰角）</h2> <h2 id="cesium和three的坐标轴区别"><a href="#cesium和three的坐标轴区别" class="header-anchor">#</a> Cesium和Three的坐标轴区别</h2> <h2 id="cesium和three的camera区别-朝向"><a href="#cesium和three的camera区别-朝向" class="header-anchor">#</a> Cesium和Three的Camera区别（朝向）</h2> <h2 id="webgl的渲染逻辑-顺序"><a href="#webgl的渲染逻辑-顺序" class="header-anchor">#</a> WebGL的渲染逻辑（顺序）</h2> <h2 id="cesium如何加载倾斜摄影数据-gltf-glb"><a href="#cesium如何加载倾斜摄影数据-gltf-glb" class="header-anchor">#</a> Cesium如何加载倾斜摄影数据（GLTF GLB）</h2> <h2 id="对arcgis三维模块的理解"><a href="#对arcgis三维模块的理解" class="header-anchor">#</a> 对ArcGIS三维模块的理解</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kite-notes/dev_gis/esri_arcgis_server.html" class="prev">
        「ESRI」ArcGIS Server
      </a></span> <span class="next"><a href="/kite-notes/gis/data_poi_aoi_loi.html">
        「数据」POI/AOI/LOI
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/kite-notes/assets/js/app.5dc82d96.js" defer></script><script src="/kite-notes/assets/js/2.6a409917.js" defer></script><script src="/kite-notes/assets/js/24.e2b2b935.js" defer></script>
  </body>
</html>
