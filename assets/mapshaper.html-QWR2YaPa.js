import{_ as p}from"./plugin-vue_export-helper-x3n3nnut.js";import{r,o,c as i,b as a,d as s,a as e,w as c,e as t}from"./app-5hxSoQGh.js";const d={},m=a("h1",{id:"mapshaper",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#mapshaper","aria-hidden":"true"},"#"),s(" mapshaper")],-1),h=a("h2",{id:"简介",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#简介","aria-hidden":"true"},"#"),s(" 简介")],-1),v={href:"https://mapshaper.org/",target:"_blank",rel:"noopener noreferrer"},u=a("code",null,"Shapefile",-1),b=a("code",null,"GeoJSON",-1),k=a("code",null,"TopoJSON",-1),g=a("code",null,"BDF",-1),f=a("code",null,"CSV",-1),_=a("h2",{id:"主要功能",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#主要功能","aria-hidden":"true"},"#"),s(" 主要功能")],-1),x=a("li",null,"支持导入多种开源数据格式",-1),S={href:"https://zhuanlan.zhihu.com/p/355323735",target:"_blank",rel:"noopener noreferrer"},y=a("code",null,"Douglas-Peucker",-1),V=a("code",null,"Visvalingam-Whyatt",-1),j=a("li",null,"支持文件导出，实现数据格式转换",-1),I=a("li",null,[s("支持使用"),a("strong",null,"强大的命令行"),s("处理地理数据")],-1),N=a("h2",{id:"如何使用",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#如何使用","aria-hidden":"true"},"#"),s(" 如何使用")],-1),w=a("h3",{id:"联网使用",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#联网使用","aria-hidden":"true"},"#"),s(" 联网使用")],-1),D={href:"https://mapshaper.org/",target:"_blank",rel:"noopener noreferrer"},G=t(`<h3 id="本地使用" tabindex="-1"><a class="header-anchor" href="#本地使用" aria-hidden="true">#</a> 本地使用</h3><ul><li><p>全局安装mapshaper依赖包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-g</span> mapshaper
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>打开图形化界面</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mapshaper-gui
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>执行该指令后，浏览器指定打开与mapshaper官网一样，但功能稍微不一样的页面（其<strong>核心功能</strong>不变）</p></li><li><p>查看帮助文档</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 所有指令的帮助列表</span>
mapshaper <span class="token parameter variable">-h</span>

<span class="token comment"># 具体指令的帮助文档（语法+例子）</span>
mapshaper <span class="token parameter variable">-h</span> <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="指令的使用" tabindex="-1"><a class="header-anchor" href="#指令的使用" aria-hidden="true">#</a> 指令的使用</h2><h3 id="文件操作" tabindex="-1"><a class="header-anchor" href="#文件操作" aria-hidden="true">#</a> 文件操作</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 文件导入</span>

<span class="token comment"># 文件导出（文件格式转换）</span>
<span class="token comment"># name: 文件名称</span>
<span class="token comment"># ext: 文件扩展名 </span>
<span class="token comment">#      shp/json/geojson/topojson -&gt; 输出空间信息+属性信息</span>
<span class="token comment">#      dbf/csv                   -&gt; 输出属性信息</span>
<span class="token comment">#      svg                       -&gt; 矢量图片</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-o</span> <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>ext<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取数据集信息" tabindex="-1"><a class="header-anchor" href="#获取数据集信息" aria-hidden="true">#</a> 获取数据集信息</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 获取图层信息</span>
<span class="token comment"># target: 必填 图层名称列表（多图层用逗号分隔）</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-info</span> <span class="token operator">&lt;</span>target<span class="token operator">&gt;</span>

<span class="token comment"># 获取要素信息</span>
<span class="token comment"># expression: 必填，JS布尔表达式</span>
<span class="token comment"># target: 选填，图层名称列表（多图层用逗号分隔）</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-inspect</span> <span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>target<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="坐标系转换" tabindex="-1"><a class="header-anchor" href="#坐标系转换" aria-hidden="true">#</a> 坐标系转换</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># projDef: 坐标系定义，使用Proj.4定义或者坐标系别名</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-proj</span> <span class="token operator">&lt;</span>projDef<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数据概化-简化" tabindex="-1"><a class="header-anchor" href="#数据概化-简化" aria-hidden="true">#</a> 数据概化（简化）</h3>`,10),B=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 一般概化（默认使用基于weight的Visvalingam-Whyatt算法）</span>
<span class="token comment"># percentage: 百分比，数值越小概化程度越高，如10%</span>
mapshaper <span class="token parameter variable">-simplify</span> <span class="token operator">&lt;</span>percentage<span class="token operator">&gt;</span>

<span class="token comment"># Douglas-Peucker</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-simplify</span> <span class="token operator">&lt;</span>percentage<span class="token operator">&gt;</span> dp
<span class="token comment"># Visvalingam-Whyatt</span>
<span class="token comment"># 基于有效区域（effective area）</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-simplify</span> <span class="token operator">&lt;</span>percentage<span class="token operator">&gt;</span> visvalingam
<span class="token comment"># 基于权重区域（weighted area）</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-simplify</span> <span class="token operator">&lt;</span>percentage<span class="token operator">&gt;</span> weighted
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="要素类型转换" tabindex="-1"><a class="header-anchor" href="#要素类型转换" aria-hidden="true">#</a> 要素类型转换</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 点/面 -&gt; 线</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-lines</span>
<span class="token comment"># 线 -&gt; 面</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-polygon</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="空间操作" tabindex="-1"><a class="header-anchor" href="#空间操作" aria-hidden="true">#</a> 空间操作</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 裁剪</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token parameter variable">-clip</span> <span class="token operator">&lt;</span>file<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token parameter variable">-o</span> <span class="token operator">&lt;</span>file<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>
<span class="token comment"># 擦除</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token parameter variable">-erase</span> <span class="token operator">&lt;</span>file<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token parameter variable">-o</span> <span class="token operator">&lt;</span>file<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>
<span class="token comment"># 融合</span>
<span class="token comment"># 同一个图层，所有要素进行融合</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-dissolve</span>
<span class="token comment"># 同一个图层，相邻的要素进行融合</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-dissolve2</span>
<span class="token comment"># ...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编辑属性表" tabindex="-1"><a class="header-anchor" href="#编辑属性表" aria-hidden="true">#</a> 编辑属性表</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># expression: 必填，JS布尔表达式</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-each</span> <span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数理统计" tabindex="-1"><a class="header-anchor" href="#数理统计" aria-hidden="true">#</a> 数理统计</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># expression: 函数表达式，sum() average() median() max() min() count()</span>
<span class="token comment"># 支持链式指令执行，即多个-calc指令</span>
mapshaper <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token parameter variable">-calc</span> <span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="文档参考" tabindex="-1"><a class="header-anchor" href="#文档参考" aria-hidden="true">#</a> 文档参考</h2>`,10),J={href:"https://malagis.com/gis-useful-tool-about-mapshaper.html",target:"_blank",rel:"noopener noreferrer"},L={href:"https://malagis.com/gis-note-map-shaper-command-line-uses-entry.html",target:"_blank",rel:"noopener noreferrer"},C={href:"https://malagis.com/mapshaper-command-line-general-format-description.html",target:"_blank",rel:"noopener noreferrer"};function E(P,W){const n=r("ExternalLinkIcon"),l=r("RouterLink");return o(),i("div",null,[m,h,a("p",null,[a("a",v,[s("mapshaper"),e(n)]),s("是一个用于编辑多种地理空间数据格式的地理处理工具，现支持"),u,s("、"),b,s("、"),k,s("、"),g,s("和"),f,s("格式")]),_,a("ol",null,[x,a("li",null,[s("支持基本的空间操作，如属性编辑、要素类型转换、裁剪、擦除、合并、概化（支持"),a("a",S,[y,s("和"),V,s("算法"),e(n)]),s("）等等")]),j,I]),N,w,a("p",null,[s("进入mapshaper的"),a("a",D,[s("官网"),e(n)]),s("便是一个工具，直接上传文件后根据自身需求处理地理空间数据即可")]),G,a("p",null,[e(l,{to:"/gis/geoprocessing/algo_simplify.html"},{default:c(()=>[s("「算法」概化")]),_:1})]),B,a("p",null,[a("a",J,[s("「GIS工具」GISer的小军刀-mapshaper"),e(n)])]),a("p",null,[a("a",L,[s("「GIS笔记」Mapshaper命令行使用入门"),e(n)])]),a("p",null,[a("a",C,[s("「GIS笔记」Mapshaper命令行通用格式说明"),e(n)])])])}const O=p(d,[["render",E],["__file","mapshaper.html.vue"]]);export{O as default};
