import{_ as s}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as n,o as a,c as i,f as l,b as t,d as e,a as o,e as r}from"./app-5hxSoQGh.js";const c={},h=t("h1",{id:"arcgis-server",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#arcgis-server","aria-hidden":"true"},"#"),e(" ArcGIS Server")],-1),u=r('<h2 id="export-map" tabindex="-1"><a class="header-anchor" href="#export-map" aria-hidden="true">#</a> Export Map</h2><h3 id="应用场景" tabindex="-1"><a class="header-anchor" href="#应用场景" aria-hidden="true">#</a> 应用场景</h3><ol><li><strong>地图图片的导出/获取</strong>。根据地理坐标范围，向地图服务发起请求获取响应格式的地图</li><li><strong>系统底图的加载</strong>。本质是地图图片的获取。根据屏幕坐标与实际地理坐标的转换，得到当前地图视图的坐标范围，再向地图服务发起请求</li></ol><h3 id="请求" tabindex="-1"><a class="header-anchor" href="#请求" aria-hidden="true">#</a> 请求</h3>',4),g=t("li",null,[e("请求路由："),t("code",null,"/export")],-1),b=t("li",null,[e("请求方式："),t("code",null,"GET"),e("/"),t("code",null,"POST")],-1),p={href:"https://developers.arcgis.com/rest/services-reference/enterprise/export-map.htm",target:"_blank",rel:"noopener noreferrer"},m=r("<table><thead><tr><th>参数<br>(⭐表示常用)</th><th>说明</th></tr></thead><tbody><tr><td>⭐bbox</td><td>边界范围（坐标范围）</td></tr><tr><td>⭐bboxSR</td><td>边界范围的空间参考，支持WKT代号ID或具体空间参考定义文本，不定义则默认使用地图服务的空间参考</td></tr><tr><td>⭐layers</td><td>需要导出的图层索引<br><strong>show</strong>:展示的图层索引<br><strong>hide</strong>：隐藏的图层索引<br><strong>include</strong>：包括的图层索引<br><strong>exclude</strong>：排除的图层索引</td></tr><tr><td>layerDef</td><td>图层过滤定义</td></tr><tr><td>⭐size</td><td>导出地图的像素大小，默认为<code>400,400</code></td></tr><tr><td>⭐imgSR</td><td>导出图片的空间参考，同<code>bboxSR</code></td></tr><tr><td>⭐format</td><td>导出图片的格式，默认为<code>png</code></td></tr><tr><td>⭐transparent</td><td>背景是否透明，默认为<code>false</code></td></tr><tr><td>dpi</td><td>导出图片的分辨率，默认为<code>96</code></td></tr><tr><td>time</td><td>导出的地图图像的时间瞬间或时间范围</td></tr><tr><td>layerTimeOptions</td><td>指定图层的时间定义</td></tr><tr><td>dynamicLayers</td><td>动态图层定义</td></tr><tr><td>gdbVersion</td><td>指定查询的地理数据库的版本，当不指定时，则默认使用发布地图服务时使用的版本</td></tr><tr><td>mapScale</td><td>地图的比例尺</td></tr><tr><td>f</td><td>请求返回的格式，默认是<code>html</code></td></tr></tbody></table>",1),_=r('<h2 id="query" tabindex="-1"><a class="header-anchor" href="#query" aria-hidden="true">#</a> Query</h2><h3 id="应用场景-1" tabindex="-1"><a class="header-anchor" href="#应用场景-1" aria-hidden="true">#</a> 应用场景</h3><ol><li><strong>属性查询（属性查图）</strong>。类似普通的数据库查询，但可以返回属性信息，选择性返回空间信息</li><li><strong>空间查询（图查属性）</strong>。与属性查询类似，使用空间过滤条件查询对应的属性信息/空间信息</li><li><strong>快速的空间操作</strong>。快速进行空间操作（如裁剪、合并、擦除...）获取用户所需的信息</li></ol><h3 id="请求-1" tabindex="-1"><a class="header-anchor" href="#请求-1" aria-hidden="true">#</a> 请求</h3>',4),y=t("li",null,[e("请求路由："),t("code",null,"/query")],-1),f=t("li",null,[e("请求方式："),t("code",null,"GET"),e("/"),t("code",null,"POST")],-1),x={href:"https://developers.arcgis.com/rest/services-reference/enterprise/query-map-service-layer-.htm",target:"_blank",rel:"noopener noreferrer"},S=r("<table><thead><tr><th>参数<br>(⭐表示常用)</th><th>说明</th></tr></thead><tbody><tr><td>⭐where</td><td>属性查询SQL的where子句</td></tr><tr><td>text</td><td>对<code>displayField</code>的值查询（支持模糊查询）。<br>形成的查询Where子句：<code>&lt;displayField&gt; like &#39;&lt;text&gt;&#39;</code><br>当指定where参数后，该参数会被忽略</td></tr><tr><td>objectIds</td><td>查询指定ObjectID的属性</td></tr><tr><td>time</td><td>限制查询的时间瞬间或时间范围，常用于有时间尺度的地理数据（时空数据）</td></tr><tr><td>⭐geometry</td><td>空间过滤-几何图形</td></tr><tr><td>⭐geometryType</td><td>空间过滤-几何图形类<br><strong>esriGeometryPoint</strong>：点<br><strong>esriGeometryMultipoint</strong>：多点<br><strong>esriGeometryPolyline</strong>：折线<br><strong>esriGeometryPolygon</strong>：多边形<br><strong>esriGeometryEnvelope</strong>：外包矩形（默认值）</td></tr><tr><td>⭐inSR</td><td>空间过滤-几何图像-空间参考，支持WKT代号ID或具体空间参考定义文本，不定义则默认使用地图服务的空间参考</td></tr><tr><td>⭐spatialRel</td><td>空间过滤-对输入的geometry的空间关系查询</td></tr><tr><td>relationParam</td><td>属性查询SQL的where子句</td></tr><tr><td>⭐outFields</td><td>输出的字段</td></tr><tr><td>returnGeometry</td><td>是否返回几何图形，默认为<code>true</code></td></tr><tr><td>maxAllowableOffset</td><td>最大允许误差范围，根据单位由<code>inSR</code>确定，若没有<code>inSR</code>，则使用该地图的空间参考</td></tr><tr><td>geometryPrecision</td><td>返回几何图形的精度，具体指的是坐标点的小数点位数（只支持XY坐标，M和Z值不支持）</td></tr><tr><td>⭐outSR</td><td>输出的几何图形的空间参考定义，支持WKT代号ID或具体空间参考定义文本，不定义则默认使用地图服务的空间参考</td></tr><tr><td>returnIdsOnly</td><td>是否值只返回ObjectId数组，不返回要素集，默认为<code>false</code></td></tr><tr><td>returnCountOnly</td><td>是否只返回数量（通过count函数计算查询结果要素集中要素的数量），默认为<code>false</code></td></tr><tr><td>orderByFields</td><td>根据一个或多个字段进行排序，需要指定排序方式，否则默认采用升序（ASC）<br>需要地图服务支持高级查询（<strong>supportsAdvancedQueries</strong>）</td></tr><tr><td>groupByFieldsForStatistics</td><td>一个或多个用于分组统计的字段</td></tr><tr><td>outStatistics</td><td>基于（字段）对象字面量数组配置进行分组统计<br>需要地图服务支持统计查询（<strong>suppportsStatistics</strong>）</td></tr><tr><td>returnZ</td><td>是否返回Z值（高程值），默认为<code>false</code></td></tr><tr><td>returnM</td><td>是否返回M值（测量值），默认为<code>false</code></td></tr><tr><td>gdbVersion</td><td>指定查询的地理数据库的版本，当不指定时，则默认使用发布地图服务时使用的版本</td></tr><tr><td>returnDistinctValues</td><td>是否基于outField参数返回指定的字段的唯一值（去重），默认为<code>false</code></td></tr></tbody></table>",1);function v(I,T){const d=n("ExternalLinkIcon");return a(),i("div",null,[h,l(" markdownlint-disable line_length "),u,t("ul",null,[g,b,t("li",null,[e("请求参数（详见"),t("a",p,[e("API文档"),o(d)]),e("） "),m])]),_,t("ul",null,[y,f,t("li",null,[e("请求参数（详见"),t("a",x,[e("API文档"),o(d)]),e("） "),S])])])}const k=s(c,[["render",v],["__file","arcgis-server.html.vue"]]);export{k as default};
